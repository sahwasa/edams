@@include('inc/top.html')
<div class="wrap">
  <div class="header">
    @@include('inc/header.html')
  </div>
  <div class="cont dam02">
    <div class="breadcrumb">
      <ul>
        <li><a href="">HOME</a></li>
        <li><a href="">지진피해평가</a></li>
        <li>지진피해평가 실행</li>
      </ul>
    </div>
    <div class="tit">
      <h2>지진 피해 평가 실행</h2>
    </div>
    <div class="flex_wrap f_sb">
      <div class="section section_l">
        <div class="tit_h3">
          <h3 class="blind">진도분포도</h3>
          <div class="btn_wrap">
            <button type="button" class="btn btn_blueline">다른 지진 선택</button>
          </div>
        </div>
        <table class="tbl_row tbl_quakeinfo">
          <caption>지진정보</caption>
          <tr>
            <th scope="row">지진번호</th>
            <td>20210</td>
            <th scope="row">규모</th>
            <td>2.6</td>
            <th scope="row">발생시각</th>
            <td>2021-06-02 12:34:56</td>
          </tr>
          <tr>
            <th scope="row">발생위치</th>
            <td colspan="6">경북 포항시 북구 북쪽 9km지역</td>
          </tr>
        </table>
        <div class="gis_wrap">
          <div class="gis_area">
            <img src="http://placehold.it/649x503" width="100%" height="100%" alt="지도 영역" />
            <i class="i_status i_safe" style="left:100px;top:150px;">안전</i>     
            <i class="i_status i_needcheck" style="left:200px;top:150px;">점검필요</i>     
            <i class="i_status i_ing" style="left:100px;top:250px;">수행중</i>     
            <i class="i_status i_unperformed" style="left:200px;top:350px;">미수행</i> 
          </div>
          <div class="legend">
            <h3>범례</h3>
            <ul>
              <li class="i_status i_safe">안전</li>
              <li class="i_status i_needcheck">점검필요</li>
              <li class="i_status i_ing">수행중</li>
              <li class="i_status i_unperformed">미수행</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="section section_r">
        <div class="article">
          <div class="tit_h3">
            <h3 class="blind">이벤트 발생정보</h3>
          </div>
          <div class="tab" tabBtn>
            <ul class="tab_list">
              <li class="on"><a href="">추정가속도생성</a></li>
              <li><a href="">안전성평가</a></li>
            </ul>
          </div>
          <div class="tab_conts" tabConts>
            <div class="tab_cont" tabCont>
              <ul class="search flex_wrap f_sb">
                <li>
                  <select title="시설물 종류">
                    <option value="">시설물 종류</option>
                  </select>
                </li>
                <li>
                  <select title="생성여부">
                    <option value="">생성여부</option>
                  </select>
                </li>
                <li class="search_li">
                  <input type="text" title="시설물명" placeholder="시설물명">
                </li>
                <li>
                  <button type="button" class="btn_gray btn_search">검색</button>
                </li>
              </ul>
              <div class="tbl_top">
                <div class="btn_wrap">
                  <button type="button" class="btn btn_blueline">추정가속도 생성</button>
                </div>
              </div>
              <div class="tbl_wrap">
                <table id="jqGrid2" class="jq-grid"></table>
              </div>
            </div>
            <div class="tab_cont" tabCont>
              <div class="dam_count">
                <ul class="flex_wrap">
                  <li>총건수<span>150건</span></li>
                  <li>안전<span>150건</span></li>
                  <li>점검필요<span>150건</span></li>
                  <li>수행중<span>150건</span></li>
                  <li>미수행<span>150건</span></li>
                </ul>
              </div>
              <ul class="search flex_wrap f_sb">
                <li>
                  <select title="시설물 종류">
                    <option value="">시설물 종류</option>
                  </select>
                </li>
                <li>
                  <select title="평가결과">
                    <option value="">평가결과</option>
                  </select>
                </li>
                <li class="search_li">
                  <input type="text" title="시설물명" placeholder="시설물명">
                </li>
                <li>
                  <button type="button" class="btn_gray btn_search">검색</button>
                </li>
              </ul>
              <div class="tbl_top">
                <div class="btn_wrap">
                  <button type="button" class="btn btn_blueline">안전성 평가</button>
                </div>
              </div>
              <div class="tbl_wrap">
                <table id="jqGrid3" class="jq-grid"></table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  @@include('inc/footer.html')
</div>
<script>
  var mydata2 = [
    { "t1": "BR2018_00000089", "t2": "교량", "t3": "명곡교", "t4": "", "t5": "2021-05-27 12:34:56" },
    { "t1": "BR2018_00000089", "t2": "교량", "t3": "명곡교", "t4": "", "t5": "2021-05-27 12:34:56" },
    { "t1": "BR2018_00000089", "t2": "교량", "t3": "명곡교", "t4": "", "t5": "2021-05-27 12:34:56" }
  ];
  $("#jqGrid2").jqGrid({
    data: mydata2,
    datatype: "local",
    colModel: [
      { label: '시설물 번호', name: 't1', width: 163 },
      { label: '시설물 종류', name: 't2', width: 109 },
      { label: '시설물명', name: 't3', width: 105 },
      { label: '파일명', name: 't4', width: 150, align:'left'},
      { label: '생성일자', name: 't5', width: 156 }
    ],
    loadonce: true,
    viewrecords: true,
    height: 414,
    rowTotal: -1,
    multiselect: true
  });

  var mydata3 = [
    { "t1": "BR2018_00000089", "t2": "교량", "t3": "명곡교", "t4": "i_safe", "t5": "2021-05-27 12:34:56" },
    { "t1": "BR2018_00000089", "t2": "교량", "t3": "명곡교", "t4": "i_needcheck", "t5": "2021-05-27 12:34:56" },
    { "t1": "BR2018_00000089", "t2": "교량", "t3": "명곡교", "t4": "i_ing", "t5": "2021-05-27 12:34:56" },
    { "t1": "BR2018_00000089", "t2": "교량", "t3": "명곡교", "t4": "i_unperformed", "t5": "2021-05-27 12:34:56" }
  ];
  $("#jqGrid3").jqGrid({
    data: mydata3,
    datatype: "local",
    colModel: [
      { label: '시설물 번호', name: 't1', width: 163 },
      { label: '시설물 종류', name: 't2', width: 109 },
      { label: '시설물명', name: 't3', width: 105 },
      { label: '평가결과', name: 't4', width: 100, formatter: evtDivision },
      { label: '평가시간', name: 't5', width: 230 }
    ],
    loadonce: true,
    viewrecords: true,
    height: 371,
    rowTotal: -1,
    multiselect: true
  });

  function evtDivision(cellValue, options, rowdata, action) {
    var html, txt = "";
    switch (cellValue) {
      case "i_safe":
        txt = "안전";
        break;
      case "i_needcheck":
        txt = "점검필요";
        break;
      case "i_ing":
        txt = "수행중";
        break;
      case "i_unperformed":
        html = '<button type="button" class="btn btn_s btn_redline">실행</button';
        break;
      default:
        txt = cellValue;
    }
    if(cellValue != "i_unperformed") html = '<span class="i_status ' + cellValue + '">' + txt + '</span>';
    
    return html;
  }

  jqgridInit();
</script>
</body>

</html>